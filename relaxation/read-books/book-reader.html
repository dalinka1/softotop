<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Современная библиотека и читалка</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Навигация между разделами */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-tab:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
            border-color: white;
        }

        /* Основной контейнер */
        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            min-height: 700px;
        }

        /* Библиотека */
        .library-section {
            padding: 30px;
        }

        .library-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .file-upload {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .file-upload input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-upload-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            border: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .file-upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .library-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 14px;
            min-width: 200px;
            transition: border-color 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }

        .sort-select {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        /* Сетка книг */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .book-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .book-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .book-info {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .book-progress {
            background: #e9ecef;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .book-progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .book-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        /* Секция чтения */
        .reader-section {
            height: 700px;
            display: flex;
            flex-direction: column;
        }

        .reader-controls {
            background: linear-gradient(90deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            justify-content: space-between;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .back-btn:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }

        .reader-settings {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .setting-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setting-item label {
            font-weight: 500;
            color: #495057;
            font-size: 0.9rem;
        }

        .setting-item select {
            padding: 6px 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.85rem;
            background: white;
        }

        .theme-buttons {
            display: flex;
            gap: 8px;
        }

        .theme-btn {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            border: 2px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-btn:hover {
            transform: scale(1.1);
            border-color: #667eea;
        }

        .theme-btn.active {
            border-color: #667eea;
            border-width: 3px;
        }

        .theme-btn.light { background: #ffffff; }
        .theme-btn.sepia { background: #f4f1ea; }
        .theme-btn.dark { background: #2c3e50; }

        /* Область чтения */
        .reading-area {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            line-height: 1.8;
            font-size: 18px;
            color: #2c3e50;
            background: #ffffff;
            transition: all 0.3s ease;
            text-align: justify;
        }

        .reading-area.sepia {
            background: #f4f1ea;
            color: #5d4e37;
        }

        .reading-area.dark {
            background: #2c3e50;
            color: #ecf0f1;
        }

        .reading-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .reading-content h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            color: #667eea;
        }

        .reading-content p {
            margin-bottom: 20px;
            text-indent: 2em;
        }

        /* Прогресс чтения */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .reading-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Пустые состояния */
        .empty-state {
            text-align: center;
            color: #6c757d;
            padding: 60px 20px;
        }

        .empty-state .icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .empty-state p {
            font-size: 1rem;
            line-height: 1.6;
        }

        /* Скрытые разделы */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2rem; }
            .nav-tabs { flex-wrap: wrap; }
            .library-header { flex-direction: column; align-items: stretch; }
            .library-controls { justify-content: center; }
            .books-grid { grid-template-columns: 1fr; }
            .reader-controls { flex-direction: column; align-items: stretch; }
            .reader-settings { justify-content: center; }
            .reading-area { padding: 20px; font-size: 16px; }
        }

        /* Анимации */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Кастомный скроллбар */
        .reading-area::-webkit-scrollbar {
            width: 8px;
        }

        .reading-area::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .reading-area::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .reading-area::-webkit-scrollbar-thumb:hover {
            background: #5a67d8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📚 Современная библиотека</h1>
            <p>Ваша персональная коллекция книг с удобным чтением</p>
        </div>

        <!-- Навигация -->
        <div class="nav-tabs">
            <div class="nav-tab active" data-section="library">
                📖 Библиотека
            </div>
            <div class="nav-tab" data-section="reader" id="readerTab" style="display: none;">
                🔖 Чтение
            </div>
        </div>

        <div class="main-container">
            <!-- Секция библиотеки -->
            <div class="section active" id="library">
                <div class="library-section">
                    <div class="library-header">
                        <div class="file-upload">
                            <input type="file" id="bookFile" accept=".txt,.epub,.pdf" multiple />
                            <label for="bookFile" class="file-upload-btn">
                                ➕ Добавить книги
                            </label>
                        </div>

                        <div class="library-controls">
                            <input type="text" class="search-box" id="searchBox" placeholder="🔍 Поиск по названию...">
                            
                            <select class="sort-select" id="sortSelect">
                                <option value="name">По названию</option>
                                <option value="dateAdded">По дате добавления</option>
                                <option value="progress">По прогрессу</option>
                                <option value="size">По размеру</option>
                            </select>
                        </div>
                    </div>

                    <div class="books-grid" id="booksGrid">
                        <!-- Книги будут добавляться динамически -->
                    </div>

                    <div class="empty-state" id="emptyState">
                        <div class="icon">📚</div>
                        <h3>Ваша библиотека пуста</h3>
                        <p>Добавьте первую книгу, чтобы начать чтение!<br>
                        <small>Поддерживаются форматы: TXT, EPUB, PDF</small></p>
                    </div>
                </div>
            </div>

            <!-- Секция чтения -->
            <div class="section" id="reader">
                <div class="reader-section">
                    <div class="reading-progress">
                        <div class="reading-progress-fill" id="readingProgressFill"></div>
                    </div>

                    <div class="reader-controls">
                        <button class="back-btn" onclick="backToLibrary()">
                            ← Вернуться в библиотеку
                        </button>

                        <div class="reader-settings">
                            <div class="setting-item">
                                <label>Размер:</label>
                                <select id="fontSize">
                                    <option value="14px">Мелкий</option>
                                    <option value="16px">Обычный</option>
                                    <option value="18px" selected>Средний</option>
                                    <option value="20px">Большой</option>
                                    <option value="24px">Огромный</option>
                                </select>
                            </div>

                            <div class="setting-item">
                                <label>Интервал:</label>
                                <select id="lineHeight">
                                    <option value="1.4">Узкий</option>
                                    <option value="1.6">Обычный</option>
                                    <option value="1.8" selected>Широкий</option>
                                    <option value="2.0">Очень широкий</option>
                                </select>
                            </div>

                            <div class="setting-item">
                                <label>Тема:</label>
                                <div class="theme-buttons">
                                    <div class="theme-btn light active" data-theme="light" title="Светлая"></div>
                                    <div class="theme-btn sepia" data-theme="sepia" title="Сепия"></div>
                                    <div class="theme-btn dark" data-theme="dark" title="Темная"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="reading-area" id="readingArea">
                        <div class="reading-content" id="readingContent">
                            <!-- Содержание книги -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Глобальные переменные
        let books = JSON.parse(localStorage.getItem('bookLibrary') || '[]');
        let currentBook = null;
        let currentTheme = 'light';
        let readingPositions = JSON.parse(localStorage.getItem('readingPositions') || '{}');
        
        // Инициализация
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            setupEventListeners();
            renderBooks();
            checkEmptyState();
        });

        function setupEventListeners() {
            // Навигация между разделами
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => switchSection(tab.dataset.section));
            });

            // Загрузка файлов
            document.getElementById('bookFile').addEventListener('change', handleFileSelect);
            
            // Поиск и сортировка
            document.getElementById('searchBox').addEventListener('input', filterBooks);
            document.getElementById('sortSelect').addEventListener('change', sortBooks);
            
            // Настройки чтения
            document.getElementById('fontSize').addEventListener('change', updateFontSize);
            document.getElementById('lineHeight').addEventListener('change', updateLineHeight);
            
            // Темы
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.addEventListener('click', () => changeTheme(btn.dataset.theme));
            });

            // Отслеживание прокрутки для сохранения позиции
            document.getElementById('readingArea').addEventListener('scroll', saveReadingPosition);
            
            // Автосохранение позиции каждые 5 секунд
            setInterval(saveReadingPosition, 5000);
        }

        // Управление разделами
        function switchSection(sectionName) {
            // Обновляем табы
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.section === sectionName);
            });
            
            // Обновляем разделы
            document.querySelectorAll('.section').forEach(section => {
                section.classList.toggle('active', section.id === sectionName);
            });
        }

        // Обработка загрузки файлов
        function handleFileSelect(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    addBookToLibrary(file.name, e.target.result);
                };
                reader.readAsText(file, 'UTF-8');
            });
        }

        // Добавление книги в библиотеку
        function addBookToLibrary(filename, content) {
            const book = {
                id: Date.now() + Math.random(),
                title: filename.replace(/\.[^/.]+$/, ""),
                content: content,
                dateAdded: new Date().toISOString(),
                size: content.length,
                progress: 0,
                lastRead: null
            };

            books.push(book);
            saveLibrary();
            renderBooks();
            checkEmptyState();
            
            // Показываем уведомление
            showNotification(`Книга "${book.title}" добавлена в библиотеку!`);
        }

        // Сохранение библиотеки
        function saveLibrary() {
            localStorage.setItem('bookLibrary', JSON.stringify(books));
        }

        // Отображение книг
        function renderBooks() {
            const grid = document.getElementById('booksGrid');
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            
            let filteredBooks = books.filter(book => 
                book.title.toLowerCase().includes(searchTerm)
            );

            // Сортировка
            const sortBy = document.getElementById('sortSelect').value;
            filteredBooks.sort((a, b) => {
                switch(sortBy) {
                    case 'name': return a.title.localeCompare(b.title);
                    case 'dateAdded': return new Date(b.dateAdded) - new Date(a.dateAdded);
                    case 'progress': return b.progress - a.progress;
                    case 'size': return b.size - a.size;
                    default: return 0;
                }
            });

            grid.innerHTML = filteredBooks.map(book => `
                <div class="book-card fade-in">
                    <div class="book-title">${book.title}</div>
                    <div class="book-info">
                        Добавлена: ${new Date(book.dateAdded).toLocaleDateString('ru-RU')}<br>
                        Размер: ${formatFileSize(book.size)}<br>
                        ${book.lastRead ? `Последнее чтение: ${new Date(book.lastRead).toLocaleDateString('ru-RU')}` : 'Ещё не читалась'}
                    </div>
                    <div class="book-progress">
                        <div class="book-progress-fill" style="width: ${book.progress}%"></div>
                    </div>
                    <div class="book-actions">
                        <button class="btn btn-primary" onclick="openBook('${book.id}')">
                            ${book.progress > 0 ? 'Продолжить' : 'Читать'}
                        </button>
                        <button class="btn btn-secondary" onclick="resetProgress('${book.id}')">
                            Заново
                        </button>
                        <button class="btn btn-danger" onclick="deleteBook('${book.id}')">
                            Удалить
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Фильтрация книг
        function filterBooks() {
            renderBooks();
        }

        // Сортировка книг
        function sortBooks() {
            renderBooks();
        }

        // Открытие книги для чтения
        function openBook(bookId) {
            currentBook = books.find(book => book.id == bookId);
            if (!currentBook) return;

            // Обновляем дату последнего чтения
            currentBook.lastRead = new Date().toISOString();
            saveLibrary();

            // Показываем содержание
            displayBookContent();
            
            // Показываем таб чтения и переключаемся на него
            document.getElementById('readerTab').style.display = 'block';
            switchSection('reader');
            
            // Восстанавливаем позицию чтения
            setTimeout(() => restoreReadingPosition(), 100);
        }

        // Отображение содержания книги
        function displayBookContent() {
            if (!currentBook) return;

            const content = document.getElementById('readingContent');
            const paragraphs = currentBook.content.split(/\n\s*\n/).filter(p => p.trim());
            
            let html = `<h1>${currentBook.title}</h1>`;
            paragraphs.forEach(paragraph => {
                if (paragraph.trim()) {
                    html += `<p>${paragraph.trim()}</p>`;
                }
            });
            
            content.innerHTML = html;
        }

        // Возврат в библиотеку
        function backToLibrary() {
            saveReadingPosition();
            document.getElementById('readerTab').style.display = 'none';
            switchSection('library');
            currentBook = null;
        }

        // Сохранение позиции чтения
        function saveReadingPosition() {
            if (!currentBook) return;

            const readingArea = document.getElementById('readingArea');
            const scrollTop = readingArea.scrollTop;
            const scrollHeight = readingArea.scrollHeight - readingArea.clientHeight;
            const progress = scrollHeight > 0 ? Math.round((scrollTop / scrollHeight) * 100) : 0;

            // Обновляем прогресс в книге
            currentBook.progress = Math.max(progress, currentBook.progress);
            
            // Сохраняем позицию
            readingPositions[currentBook.id] = scrollTop;
            
            localStorage.setItem('readingPositions', JSON.stringify(readingPositions));
            saveLibrary();
            
            // Обновляем прогресс бар
            document.getElementById('readingProgressFill').style.width = progress + '%';
        }

        // Восстановление позиции чтения
        function restoreReadingPosition() {
            if (!currentBook) return;

            const savedPosition = readingPositions[currentBook.id] || 0;
            document.getElementById('readingArea').scrollTop = savedPosition;
            
            // Обновляем прогресс бар
            const readingArea = document.getElementById('readingArea');
            const scrollHeight = readingArea.scrollHeight - readingArea.clientHeight;
            const progress = scrollHeight > 0 ? Math.round((savedPosition / scrollHeight) * 100) : 0;
            document.getElementById('readingProgressFill').style.width = progress + '%';
        }

        // Сброс прогресса чтения
        function resetProgress(bookId) {
            const book = books.find(b => b.id == bookId);
            if (book) {
                book.progress = 0;
                delete readingPositions[bookId];
                localStorage.setItem('readingPositions', JSON.stringify(readingPositions));
                saveLibrary();
                renderBooks();
                showNotification(`Прогресс чтения "${book.title}" сброшен`);
            }
        }

        // Удаление книги
        function deleteBook(bookId) {
            const book = books.find(b => b.id == bookId);
            if (book && confirm(`Удалить книгу "${book.title}"?`)) {
                books = books.filter(b => b.id != bookId);
                delete readingPositions[bookId];
                localStorage.setItem('readingPositions', JSON.stringify(readingPositions));
                saveLibrary();
                renderBooks();
                checkEmptyState();
                showNotification(`Книга "${book.title}" удалена`);
            }
        }

        // Проверка пустого состояния
        function checkEmptyState() {
            const emptyState = document.getElementById('emptyState');
            const booksGrid = document.getElementById('booksGrid');
            
            if (books.length === 0) {
                emptyState.style.display = 'block';
                booksGrid.style.display = 'none';
            } else {
                emptyState.style.display = 'none';
                booksGrid.style.display = 'grid';
            }
        }

        // Настройки чтения
        function updateFontSize() {
            const fontSize = document.getElementById('fontSize').value;
            document.getElementById('readingArea').style.fontSize = fontSize;
            saveSettings();
        }

        function updateLineHeight() {
            const lineHeight = document.getElementById('lineHeight').value;
            document.getElementById('readingArea').style.lineHeight = lineHeight;
            saveSettings();
        }

        function changeTheme(theme) {
            currentTheme = theme;
            const readingArea = document.getElementById('readingArea');
            
            // Обновляем активный таб темы
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.theme === theme);
            });
            
            // Применяем тему
            readingArea.classList.remove('light', 'sepia', 'dark');
            if (theme !== 'light') {
                readingArea.classList.add(theme);
            }
            
            // Обновляем цвет заголовка
            const bookTitle = readingArea.querySelector('h1');
            if (bookTitle) {
                if (theme === 'dark') {
                    bookTitle.style.color = '#74b9ff';
                } else if (theme === 'sepia') {
                    bookTitle.style.color = '#8b4513';
                } else {
                    bookTitle.style.color = '#667eea';
                }
            }
            
            saveSettings();
        }

        // Сохранение и загрузка настроек
        function saveSettings() {
            const settings = {
                fontSize: document.getElementById('fontSize').value,
                lineHeight: document.getElementById('lineHeight').value,
                theme: currentTheme
            };
            localStorage.setItem('readerSettings', JSON.stringify(settings));
        }

        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('readerSettings') || '{}');
            
            if (settings.fontSize) {
                document.getElementById('fontSize').value = settings.fontSize;
                updateFontSize();
            }
            
            if (settings.lineHeight) {
                document.getElementById('lineHeight').value = settings.lineHeight;
                updateLineHeight();
            }
            
            if (settings.theme) {
                changeTheme(settings.theme);
            }
        }

        // Вспомогательные функции
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Б';
            const k = 1024;
            const sizes = ['Б', 'КБ', 'МБ', 'ГБ'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }

        function showNotification(message) {
            // Простое уведомление (можно заменить на более красивое)
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 10000;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                font-weight: 600;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Демонстрационные книги для тестирования
        function loadSampleBooks() {
            const samples = [
                {
                    title: "Пример - Приключения в горах",
                    content: `Глава 1. Восхождение начинается

Рассвет в горах всегда прекрасен. Солнечные лучи медленно скользят по заснеженным вершинам, окрашивая их в золотистые и розовые тона. Именно в такое утро Алексей начал свое восхождение на одну из самых высоких вершин региона.

Путь предстоял нелегкий. Тропа извивалась между скалами, то поднимаясь крутыми серпантинами, то спускаясь в небольшие долины. Рюкзак за спиной был тяжелым, но Алексей шел уверенно – он готовился к этому походу несколько месяцев.

Глава 2. Встреча с дикой природой

На втором дне пути произошла неожиданная встреча. Выйдя на небольшую поляну, Алексей увидел семью горных козлов. Животные паслись неподалеку, не обращая на человека никакого внимания. Это был знак – природа приняла его как своего.

Вечером, разбив лагерь у горного озера, Алексей любовался звездным небом. В горах звезды кажутся ближе и ярче. Млечный Путь протянулся широкой полосой через все небо, а созвездия были видны так четко, что казалось, до них можно дотронуться рукой.

Глава 3. На вершине

Третий день оказался самым трудным. Последние несколько сотен метров до вершины давались с большим трудом. Разреженный воздух заставлял делать частые остановки, а крутой склон требовал предельной концентрации.

Но когда Алексей наконец достиг вершины, все трудности были забыты. Перед ним открылась невероятная панорама: бесконечные горные хребты, уходящие к горизонту, долины, затянутые утренней дымкой, и ощущение абсолютной свободы.

Это был момент, ради которого стоило преодолевать все трудности пути.`
                },
                {
                    title: "Пример - Секреты программирования",
                    content: `Введение в мир кода

Программирование – это искусство общения с компьютером на его языке. Каждая строка кода – это инструкция, каждая функция – это решение определенной задачи, каждая программа – это целый мир, созданный разработчиком.

Начинающие программисты часто думают, что главное – это знание синтаксиса языка. Но на самом деле важнее понимать логику, уметь разбивать сложные задачи на простые части и мыслить алгоритмически.

Глава 1. Алгоритмическое мышление

Прежде чем писать код, нужно научиться думать как программист. Это значит – видеть в любой проблеме последовательность шагов, которые приведут к решению.

Например, если нужно приготовить борщ, программист мысленно составит алгоритм: купить продукты, помыть овощи, нарезать, сварить бульон, добавить ингредиенты в определенной последовательности. Каждый шаг четкий и конкретный.

Глава 2. Выбор первого языка

Споры о том, с какого языка начинать изучение программирования, не утихают годами. Python хорош своей простотой, JavaScript открывает двери в веб-разработку, C++ учит понимать, как работает компьютер на низком уровне.

На самом деле, первый язык – это как первая любовь. Он останется в памяти навсегда, но не обязательно будет единственным. Главное – начать, а дальше путь покажется сам.

Заключение

Программирование – это не только профессия, но и способ мышления. Оно учит логике, терпению и креативности одновременно. Каждый разработанный проект – это маленькая победа, каждая решенная задача – это шаг к мастерству.`
                }
            ];

            samples.forEach(sample => {
                addBookToLibrary(sample.title + '.txt', sample.content);
            });
        }

        // Добавляем кнопку для загрузки примеров, если библиотека пуста
        setTimeout(() => {
            if (books.length === 0) {
                const emptyState = document.getElementById('emptyState');
                const sampleBtn = document.createElement('button');
                sampleBtn.textContent = '📚 Загрузить примеры книг';
                sampleBtn.style.cssText = `
                    margin-top: 20px;
                    padding: 12px 24px;
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    color: white;
                    border: none;
                    border-radius: 25px;
                    cursor: pointer;
                    font-weight: 600;
                    transition: all 0.3s ease;
                `;
                sampleBtn.onmouseover = () => sampleBtn.style.transform = 'translateY(-2px)';
                sampleBtn.onmouseout = () => sampleBtn.style.transform = 'translateY(0)';
                sampleBtn.onclick = loadSampleBooks;
                emptyState.appendChild(sampleBtn);
            }
        }, 1000);
    </script>
</body>
</html>